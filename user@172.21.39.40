#!/usr/bin/python3
# -*- coding: utf-8 -*-

import sys
from python_modules.translation import translate
import subprocess


def PrintUsage():
	print("Usage: AutoDownloadImagesInManyLanguages.py  $(SearchKeyword)")


listOfLanguages = [
	'ar', #阿拉伯
	'be', #白俄羅斯
	'bg', #保加利亞
	'bn', #孟加拉
	'cs', #捷克
	'da', #丹麥
	'de', #德國
	'el', #希臘
	'en', #英文
	'es', #西班牙
	'et', #愛沙尼亞
	'fa', #波斯
	'fi', #芬蘭
	'fr', #法國
	'ga', #愛爾蘭
	'he', #希伯來
	'hu', #匈牙利
	'id', #印尼
	'it', #義大利
	'ja', #日本
	'ko', #韓國
	'mn', #蒙古
	'ms', #馬來西亞
	'my', #緬甸
	'ne', #尼泊爾
	'nl', #荷蘭
	'no', #挪威
	'pt', #葡萄牙
	'ru', #俄羅斯
	'sa', #梵文
	'sk', #斯洛伐克
	'th', #泰文
	'tr', #土耳其
	'uk', #烏克蘭
	'vi', #越南
	'zh', #中文
]

autoSearchAndDownloadHelper = "./autoSearchImage.py"

###########################
#          Main           #
###########################
if __name__ == "__main__":
	searchKeyword = ""
	if len(sys.argv) == 1:
		searchKeyword = input("Google Search: ")
	else:
		PrintUsage()
		raise ValueError("Invalid user input: " + str(sys.argv) )

	# Download Other Languages:
	for eachLanguage in listOfLanguages:
		savedFileName = searchKeyword.replace(' ', '') + "_" + eachLanguage
		keywordInCurrentLanguage = translate(searchKeyword, eachLanguage)

		processArguments = savedFileName + " " + keywordInCurrentLanguage
		processOutput = subprocess.getoutput(autoSearchAndDownloadHelper + " " + processArguments)
		print("execute: " + autoSearchAndDownloadHelper + " " + processArguments)
		print(processOutput)
